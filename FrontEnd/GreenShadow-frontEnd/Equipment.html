<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="assets/Styles/dashboard.css">
    <link rel="stylesheet" href="assets/Styles/Field.css">
    <link rel="stylesheet" href="assets/Styles/Staff.css">
    <link rel="stylesheet" href="assets/Styles/Vehicle.css">
    <title>Equipment management</title>
</head>
<body>
<div class="top-navbar d-md-none d-flex justify-content-between align-items-center">
  <span class="menu-toggle">
            <i class="fas fa-bars fa-lg"></i>
            <i class="fa-solid fa-bell"></i>
            <i class="fa-solid fa-user"></i>

  </span>
    <img src="assets/images/greenshadowlogo-02.png" alt="Green Shadow Logo" class="img-fluid" style="height: 40px;">
</div>
<!-- Sidebar -->
<nav class="sidebar  border-right d-md-block d-none">
    <div class="sidebar-header p-3">
        <img src="assets/images/greenshadowlogo-02.png" alt="Green Shadow Logo" class="img-fluid">
    </div>
    <ul class="list-unstyled p-2">
        <li><a href="#"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
        <li><a href="#"><i class="fas fa-leaf"></i> Field Management</a></li>
        <li><a href="#"><i class="fas fa-seedling"></i> Crops Management</a></li>
        <li><a href="#"><i class="fas fa-users"></i> Staff</a></li>
        <li><a href="#"><i class="fas fa-book-open"></i> Monitoring Logs</a></li>
        <li><a href="#"><i class="fas fa-truck"></i> Vehicles</a></li>
        <li><a href="#"><i class="fas fa-tools"></i> Equipment</a></li>
        <li><a href="#"><i class="fa-solid fa-arrow-right-from-bracket"></i> Log out</a></li>
    </ul>
</nav>
<div class="main-content">
    <!-- Top Navbar -->
    <nav class="navbar navbar-light bg-light mb-4">
        <span class="navbar-brand dashboard-topic">Equipment Management</span>
        <div class="profile-icon">
            <i class="fa-solid fa-bell"></i>
            <i class="fa-solid fa-user"></i>

        </div>
    </nav>
    <!--  Search Bar -->

    <div class="search-bar mb-4">
        <i class="fas fa-search"></i>
        <input id="equipmentSearch" type="text" placeholder="Search by Name or Type...">
    </div>

    <!--container of fields-->
    <div class="container">
        <!-- Placeholder message when no fields are available -->
        <div class="no-data">
            <img src="assets/images/noData.png" class="no-data-img">
            <p class="empty-message">No Equipment available to display</p>
        </div>
        <div class="equipment-container">
            <div class="equipment-filter-container">
                <label for="equipmentStatusFilter" class="filter-label">Filter by Status:</label>
                <select id="equipmentStatusFilter" class="filter-select">
                    <option value="all">All</option>
                    <option value="available">Available</option>
                    <option value="in-use">In Use</option>
                    <option value="maintenance">Maintenance</option>
                </select>
            </div>

            <div class="equipment-table-wrapper">
                <table class="table equipment-table">
                    <thead>
                    <tr>

                        <th>Name</th>
                        <th>Type</th>
                        <th>Status</th>
                        <th>Assigned Staff</th>
                        <th>Assigned Field</th>
                    </tr>
                    </thead>
                    <tbody id="equipmentTableBody">
                    <tr data-status="available">

                        <td>Tractor</td>
                        <td>Heavy Machinery</td>
                        <td>Available</td>
                        <td>John Doe</td>
                        <td>Field A</td>
                    </tr>
                    <tr data-status="in-use">

                        <td>Sprayer</td>
                        <td>Handheld</td>
                        <td>In Use</td>
                        <td>Jane Smith</td>
                        <td>Field B</td>
                    </tr>
                    <tr data-status="maintenance">

                        <td>Plow</td>
                        <td>Heavy Machinery</td>
                        <td>Maintenance</td>
                        <td>Mike Johnson</td>
                        <td>Field C</td>
                    </tr>
                    <!-- More rows as necessary -->
                    </tbody>
                </table>
            </div>
        </div>






    </div>
    <div class="add-btn-container">
        <button type="button" class="btn add-filed" data-toggle="modal" data-target="#addEquipmentModal" style="width: 250px">  <i class="fas fa-plus-circle"></i>Add New Equipment</button>
    </div>
</div>

<!-- Equipment Details Modal -->
<div class="modal fade" id="equipmentDetailModal" tabindex="-1" aria-labelledby="equipmentDetailModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content custom-modal-background">
            <!-- Modal Header with Equipment Icon and Title -->
            <div class="modal-header">
                <h4 class="modal-title" id="equipmentDetailModalLabel">
                    <i class="fas fa-tools" style="margin-right: 8px; color: #274D40"></i>
                    Equipment Details
                </h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <!-- Form for Equipment Details -->
                <form id="equipmentDetailForm">
                    <!-- Equipment ID -->
                    <div class="form-group">
                        <label for="equipmentId">Equipment ID</label>
                        <input type="text" class="form-control" id="equipmentId" value="E001" readonly>
                    </div>

                    <!-- Name -->
                    <div class="form-group">
                        <label for="equipmentName">Name</label>
                        <input type="text" class="form-control" id="equipmentName" value="Tractor" readonly>
                    </div>

                    <!-- Type -->
                    <div class="form-group">
                        <label for="equipmentType">Type</label>
                        <input type="text" class="form-control" id="equipmentType" value="Heavy Machinery" readonly>
                    </div>

                    <!-- Status -->
                    <div class="form-group">
                        <label for="equipmentStatus">Status</label>
                        <input type="text" class="form-control" id="equipmentStatus" value="Available" readonly>
                    </div>

                    <!-- Assigned Staff -->
                    <div class="form-group">
                        <label for="assignedStaff">Assigned Staff</label>
                        <input type="text" class="form-control" id="assignedStaff" value="John Doe" readonly>
                    </div>

                    <!-- Assigned Field -->
                    <div class="form-group">
                        <label for="assignedField">Assigned Field</label>
                        <input type="text" class="form-control" id="assignedField" value="Field A" readonly>
                    </div>

                    <!-- Remarks -->
                    <div class="form-group">
                        <label for="equipmentRemarks">Remarks</label>
                        <textarea class="form-control" id="equipmentRemarks" rows="3" readonly>Regular maintenance scheduled.</textarea>
                    </div>
                </form>
            </div>

            <!-- Modal Footer with Action Buttons -->
            <div class="modal-footer btn-container">
                <button type="button" class="btn" data-dismiss="modal">
                    <i class="fas fa-times-circle"></i> Close
                </button>
                <button type="button" class="btn" id="updateEquipmentBtn" onclick="toggleEquipmentEditMode()">
                    <i class="fas fa-edit"></i> Update
                </button>
                <button type="button" class="btn" id="deleteEquipmentBtn">
                    <i class="fas fa-trash-alt"></i> Delete
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Add Equipment Modal -->
<div class="modal fade" id="addEquipmentModal" tabindex="-1" aria-labelledby="addEquipmentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content custom-modal-background">
            <!-- Modal Header with Equipment Icon and Title -->
            <div class="modal-header">
                <h4 class="modal-title" id="addEquipmentModalLabel">
                    <i class="fas fa-plus-circle" style="margin-right: 8px; color: #274D40"></i>
                    Add Equipment
                </h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <!-- Form for Adding Equipment -->
                <form id="addEquipmentForm">
                    <!-- Equipment ID -->
                    <div class="form-group">
                        <label for="newEquipmentId">Equipment ID</label>
                        <input type="text" class="form-control" id="newEquipmentId" placeholder="Enter Equipment ID">
                    </div>

                    <!-- Name -->
                    <div class="form-group">
                        <label for="newEquipmentName">Name</label>
                        <input type="text" class="form-control" id="newEquipmentName" placeholder="Enter Equipment Name">
                    </div>

                    <!-- Type -->
                    <div class="form-group">
                        <label for="newEquipmentType">Type</label>
                        <select id="newEquipmentType" class="form-control">
                            <option value="">Select Type</option>
                            <option value="Heavy Machinery">Heavy Machinery</option>
                            <option value="Hand Tool">Hand Tool</option>
                            <option value="Electrical Equipment">Electrical Equipment</option>
                            <!-- Add more options as necessary -->
                        </select>
                    </div>

                    <!-- Status -->
                    <div class="form-group">
                        <label for="newEquipmentStatus">Status</label>
                        <select id="newEquipmentStatus" class="form-control">
                            <option value="">Select Status</option>
                            <option value="Available">Available</option>
                            <option value="In Use">In Use</option>
                            <option value="Under Maintenance">Under Maintenance</option>
                        </select>
                    </div>

                    <!-- Assigned Staff (Combo Box) -->
                    <div class="form-group">
                        <label for="newAssignedStaff">Assigned Staff</label>
                        <select id="newAssignedStaff" class="form-control">
                            <option value="">Select Staff</option>
                            <option value="John Doe">John Doe</option>
                            <option value="Jane Smith">Jane Smith</option>
                            <!-- Add options dynamically as needed -->
                        </select>
                    </div>

                    <!-- Assigned Field (Combo Box) -->
                    <div class="form-group">
                        <label for="newAssignedField">Assigned Field</label>
                        <select id="newAssignedField" class="form-control">
                            <option value="">Select Field</option>
                            <option value="Field A">Field A</option>
                            <option value="Field B">Field B</option>
                            <!-- Add options dynamically as needed -->
                        </select>
                    </div>

                    <!-- Remarks -->
                    <div class="form-group">
                        <label for="newEquipmentRemarks">Remarks</label>
                        <textarea class="form-control" id="newEquipmentRemarks" rows="3" placeholder="Enter any remarks or additional notes"></textarea>
                    </div>
                </form>
            </div>

            <!-- Modal Footer with Action Buttons -->
            <div class="modal-footer btn-container">
                <button type="button" class="btn" data-dismiss="modal">
                    <i class="fas fa-times-circle"></i> Cancel
                </button>
                <button type="button" class="btn " id="saveEquipmentBtn">
                    <i class="fas fa-save"></i> Save Equipment
                </button>
            </div>
        </div>
    </div>
</div>



<script>
    document.getElementById('equipmentStatusFilter').addEventListener('change', function() {
        const filter = this.value;
        const rows = document.querySelectorAll('#equipmentTableBody tr');

        rows.forEach(row => {
            const status = row.getAttribute('data-status');
            row.style.display = (filter === 'all' || filter === status) ? '' : 'none';
        });
    });

    document.getElementById('equipmentSearch').addEventListener('input', function() {
        const searchQuery = this.value.toLowerCase();
        const rows = document.querySelectorAll('#equipmentTableBody tr');

        rows.forEach(row => {
            const name = row.cells[0].textContent.toLowerCase();  // Equipment Name column
            const type = row.cells[1].textContent.toLowerCase();  // Equipment Type column

            row.style.display = (name.includes(searchQuery) || type.includes(searchQuery)) ? '' : 'none';
        });
    });
    document.querySelectorAll('#equipmentTableBody tr').forEach(row => {
        row.addEventListener('click', () => {
            // Get data from row (this could be retrieved from data attributes or an object)
          /*  const equipmentData = {
                id: row.querySelector('.equipment-id').innerText,
                name: row.querySelector('.equipment-name').innerText,
                type: row.querySelector('.equipment-type').innerText,
                status: row.querySelector('.equipment-status').innerText,
                assignedStaff: row.querySelector('.assigned-staff').innerText,
                assignedField: row.querySelector('.assigned-field').innerText,
                remarks: row.querySelector('.equipment-remarks').innerText,
            };*/

            $('#equipmentDetailModal').modal('show');
        });
    });

    function toggleEquipmentEditMode() {
        // Close the staffDetailModal
        $('#equipmentDetailModal').modal('hide');

        // Open the addStaffModal
        $('#addEquipmentModal').modal('show');

        // Change the modal header to "Update Member"
        document.getElementById('addEquipmentModalLabel').innerText = 'Update Equipment';

        // Change the button text from "Add Staff" to "Save Changes"
        const addEquipment = document.getElementById('saveEquipmentBtn');
        addEquipment.innerText = 'Save Changes';


    }


</script>






<!-- jQuery and Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
</body>
</html>